<form class="user-form" [formGroup]="form" (ngSubmit)="save()">
  <div class="user-form__avatar"></div>

  <div class="user-form__content">
    <div class="user-form__row">
      <div class="user-form__field">
        <label for="yourName">Your Name</label>
        <input type="text" id="yourName" placeholder="Charlene Reed" formControlName="yourName" />

        <div *ngIf="isInvalid('yourName')">
          @if (getError('yourName', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>

      <div class="user-form__field">
        <label for="userName">User Name</label>
        <input type="text" id="userName" placeholder="Charlene Reed" formControlName="userName" />

        <div *ngIf="isInvalid('userName')">
          @if (getError('userName', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>
    </div>

    <div class="user-form__row">
      <div class="user-form__field">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          placeholder="charlenereed@gmail.com"
          formControlName="email"
        />

        <div *ngIf="isInvalid('email')">
          @if (getError('email', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
          @if (getError('email', 'email')) {
            <small style="color: red">Некоректна електронна пошта</small>
          }
        </div>
      </div>

      <div class="user-form__field">
        <label for="password">Password</label>
        <input type="password" id="password" placeholder="**********" formControlName="password" />

        <div *ngIf="isInvalid('password')">
          @if (getError('password', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
          @if (getError('password', 'minlength')) {
            <small style="color: red">Пароль повинен містити щонайменше 6 символів</small>
          }
        </div>
      </div>
    </div>

    <div class="user-form__row">
      <div class="user-form__field">
        <label for="dataBirth">Date of Birth</label>
        <input
          type="date"
          id="dataBirth"
          placeholder="25 January 1990"
          formControlName="dataBirth"
        />

        <div *ngIf="isInvalid('dataBirth')">
          @if (getError('dataBirth', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>

      <div class="user-form__field">
        <label for="presentAddress">Present Address</label>
        <input
          type="text"
          id="presentAddress"
          placeholder="San Jose, California, USA"
          formControlName="presentAddress"
        />

        <div *ngIf="isInvalid('presentAddress')">
          @if (getError('presentAddress', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>
    </div>

    <div class="user-form__row">
      <div class="user-form__field">
        <label for="address">Permanent Address</label>
        <input
          type="text"
          id="address"
          placeholder="San Jose, California, USA"
          formControlName="address"
        />

        <div *ngIf="isInvalid('address')">
          @if (getError('address', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>

      <div class="user-form__field">
        <label for="city">City</label>
        <input type="text" id="city" placeholder="San Jose" formControlName="city" />

        <div *ngIf="isInvalid('city')">
          @if (getError('city', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>
    </div>

    <div class="user-form__row">
      <div class="user-form__field">
        <label for="postalCode">Postal Code</label>
        <input type="text" id="postalCode" placeholder="45962" formControlName="postalCode" />

        <div *ngIf="isInvalid('postalCode')">
          @if (getError('postalCode', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
          @if (getError('postalCode', 'pattern')) {
            <small style="color: red">
              Формат поштового індексу невірний. Використовуйте 3–10 літер, цифр, пробілів або
              дефісів.
            </small>
          }
        </div>
      </div>

      <div class="user-form__field">
        <label for="country">Country</label>
        <input type="text" id="country" placeholder="USA" formControlName="country" />

        <div *ngIf="isInvalid('country')">
          @if (getError('country', 'required')) {
            <small style="color: red">Це поле обов'язкове</small>
          }
        </div>
      </div>
    </div>

    <div class="user-form__button">
      <button type="submit" [disabled]="form.invalid" mat-flat-button>Зберегти</button>
    </div>
  </div>
</form>
